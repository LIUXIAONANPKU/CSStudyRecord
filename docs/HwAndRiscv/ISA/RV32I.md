## RV32I 基础指令集

### 1.  整数计算
> 以下短立即数指 12 位立即数
* 加法
    + **add** <br/>     R-type. 寄存器加
    + **addi** <br/>    I-type. 寄存器加短立即数

* 减法
    + **sub** <br/>     R-type. 寄存器减

* 逻辑
    + **and** <br/>     R-type. 寄存器与
    + **andi** <br/>    I-type. 寄存器和短立即数与
    + **or** <br/>      R-type. 寄存器或
    + **ori** <br/>     I-type. 寄存器和短立即数或
    + **xor** <br/>     R-type. 寄存器异或
    + **xori** <br/>    I-type. 寄存器和短立即数异或

* 移位
    + **sll** <br/>     R-type. 寄存器逻辑左移
    + **slli** <br/>    I-type. 寄存器逻辑左移某个立即数
    + **sra** <br/>     R-type. 寄存器算术右移
    + **srai** <br/>    I-type. 寄存器算术右移某个立即数
    + **srl** <br/>     R-type. 寄存器逻辑右移
    + **srli** <br/>    R-type. 寄存器逻辑右移某个立即数

* 构造大数
    + **lui** <br/>     U-type. 把 20 位立即数加载到目标寄存器的高 20 位
    + **auipc** <br/>   U-type. 向 pc 高位加上 20 位立即数

* 比较大小
    + **slt** <br />    R-type. 比较两个寄存器的有符号数大小，并根据比较结果将目标寄存器置 1 或 0
    + **sltu** <br />   R-type. 比较两个寄存器的无符号数大小，并根据比较结果将目标寄存器置 1 或 0
    + **slti** <br />   I-type. 比较寄存器与立即数的有符号数大小，并根据比较结果将目标寄存器置 1 或 0
    + **slti** <br />   I-type. 比较寄存器与立即数的无符号数大小，并根据比较结果将目标寄存器置 1 或 0

### 2.  控制转移

* **beq**   <br />      B-type. 若寄存器的值相等，把 pc 的值设为当前值加上符号位扩展的偏移
* **bnq**   <br />      B-type. 若寄存器的值不相等，把 pc 的值设为当前值加上符号位扩展的偏移
* **bge**   <br />      B-type. 若寄存器有符号比较大于等于另一个，把 pc 的值设为当前值加上符号位扩展的偏移
* **bgeu**   <br />     B-type. 若寄存器无符号比较大于等于另一个，把 pc 的值设为当前值加上偏移
* **blt**   <br />      B-type. 若寄存器有符号比较小于另一个，把 pc 的值设为当前值加上符号位扩展的偏移
* **bltu**   <br />     B-type. 若寄存器无符号比较小于另一个，把 pc 的值设为当前值加上偏移
* **jal**   <br />      J-type. 把下一条指令的地址(pc+4)存入 rd，然后把 pc 设置为当前值加上符号位扩展的 offset 乘 2， rd 默认为 x1
* **jalr**  <br />      I-type. 把 pc 设置为 x[rs1] + sign-extend(offset)，把计算出的地址的最低有效位设为 0，并将原 pc + 4 的值写入 f[rd],rd 默认为 x1

### 3.  内存访存

* **lw** <br />         I-type. 加载字到寄存器
* **lh** <br />         I-type. 加载半字到寄存器，作有符号扩展后存到寄存器
* **lhu** <br />        I-type. 加载半字到寄存器，作无符号扩展后存到寄存器
* **lb** <br />         I-type. 加载字节到寄存器，作有符号扩展后存到寄存器
* **lbu** <br />        I-type. 加载字节到寄存器，作无符号扩展后存到寄存器
* **sw** <br />         S-type. 把寄存器的低位 4 个字节的内容保存到内存
* **sh** <br />         S-type. 把寄存器的低位 2 个字节的内容保存到内存
* **sb** <br />         S-type. 把寄存器的低位 1 个字节的内容保存到内存

### 4.  内存同步

* **fence pred,succ** <br />  I-type. 在后续指令中的内存和 I/O 访问对外部（例如其他线程）可见之前，使这条指令之前的内存及 I/O 访问对外部可见
* **fence.i**          <br /> I-type. 使对内存指令区域的读写，对后续取指令可见

### 5.  环境调用

* **ecall**           <br />  I-type. 引发相应特权等级下的一个执行环境调用异常
* **ebreak**          <br />  I-type. 引发相应特权等级下的一个调试环境调用异常

### 6.  CSR 指令

    CSR 指令是对控制状态寄存器进行读写的指令


> 参考文献 <br/>
[1] [RISC-V-Reader-Chinese-v2p1](../ref/RISC-V-Reader-Chinese-v2p1)
